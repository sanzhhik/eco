!function(t){t.RS.Tuning||(t.RS.Tuning=function(t){if(!t)return new RS.Tuning("rstuning");this.id=t,this.initMacrosList()},RS.Tuning.prototype.settings={styleSelectId:"rstuning_styles",timeoutChanageStylesDelay:250,timeoutChanageStylesId:0},RS.Tuning.prototype.colorMacrosContent="",RS.Tuning.prototype.colorMacrosCompiled="",RS.Tuning.prototype.macrosList={},RS.Tuning.prototype.generateCss=function(){return this.replaceMacros(),this.innerStyles(),!0},RS.Tuning.prototype.getReadyMacros=function(){var t=new CustomEvent("rs.tuning.onBeforeGetReadyMacros",{detail:{macrosList:this.macrosList}});return document.dispatchEvent(t),this.macrosList},RS.Tuning.prototype.setColorMacrosContent=function(t){return this.colorMacrosContent=t,!0},RS.Tuning.prototype.getColorMacrosContent=function(){return this.colorMacrosContent},RS.Tuning.prototype.replaceMacros=function(){var t=this.getColorMacrosContent(),e=this.getReadyMacros();for(var n in e)t=t.replace(new RegExp("#"+n+"#","g"),e[n]);return this.setColorMacrosCompiled(t),!0},RS.Tuning.prototype.innerStyles=function(){var t=this;return clearTimeout(this.settings.timeoutChanageStylesId),t.settings.timeoutChanageStylesId=setTimeout(function(){document.getElementById(t.settings.styleSelectId).innerHTML="<style>"+t.getColorMacrosCompiled()+"</style>"},t.settings.timeoutChanageStylesDelay),!0},RS.Tuning.prototype.setColorMacrosCompiled=function(t){return this.colorMacrosCompiled=t,!0},RS.Tuning.prototype.getColorMacrosCompiled=function(){return this.colorMacrosCompiled},RS.Tuning.prototype.setMacros=function(t,e){return this.macrosList[t]=e,!0},RS.Tuning.prototype.initMacrosList=function(){var t=this.getTuning().querySelectorAll("[data-macros]");if(t&&0<t.length)for(i=0;i<t.length;i++)this.setMacros(t[i].getAttribute("data-macros"),t[i].value),t[i].getAttribute("data-tuning-color-macros")&&this.setMacros(t[i].getAttribute("data-tuning-color-macros"),t[i].value);return!0},RS.Tuning.prototype.getTuning=function(){return document.getElementById(this.id)})}(window);