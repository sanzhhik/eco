"use strict";window.RS=window.RS||{},RS.Application=function(){var t,i=function(){this.sliders={},this.breakpoints={xxs:0,xs:480,sm:768,md:992,lg:1200},this.fancyboxOptions={},this.fancyboxOptions.popup={infobar:!1,buttons:!1,slideShow:!1,fullScreen:!1,thumbs:!1,ajax:{settings:{data:{fancybox:!0}}},touch:!1,keyboard:!0,btnTpl:{smallBtn:"Hello"},baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner">{{buttons}}<div class="fancybox-stage"></div></div></div>',afterLoad:function(t,i){this.$content.wrapAll("<div>");var o=this.$content.parent();if(o.prepend('<button data-fancybox-close class="fancybox-close-small"><svg class="icon-svg"><use xlink:href="#svg-cross"></use></svg></button>'),this.$content.find(".rsform--crm").length)o.addClass("is-crm-form");else{var n=i.opts.title&&i.opts.title.length?i.opts.title:t.opts.title&&t.opts.title.length?t.opts.title:i.opts.$orig?i.opts.$orig.data("fancybox-title")||i.opts.$orig.attr("title")||this.opts.$orig.text():void 0;void 0!==n&&this.$content.parent().prepend('<div class="fancybox-title fancybox-title-inside-wrap">'+n+"</div>")}}}};return i.prototype.ready=function(t){void 0!==window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",function(i){t()}):$(document).ready(function(){t()})},i.prototype.addSlider=function(t,i,o){this.sliders[t]||(this.sliders[t]=new RS.Slider(t,i,o))},i.prototype.initAllSliders=function(){$.each(this.sliders,function(t,i){i.init()})},i.prototype.setProductCart=function(t){if(void 0!=window.Basket){var i=Basket.inbasket(),o=$(".js-buy");o.removeClass("is-incart"),i.forEach(function(t){o.filter("[data-productid="+t+"]").addClass("is-incart")})}},i.prototype.getWidth=function(){return $(window).outerWidth()},i.prototype.inBreakpoint=function(t){return!(!this.breakpoints[t]||this.getWidth()<this.breakpoints[t])},i.prototype.initPopups=function(){$('[data-type="ajax"]').fancybox(this.fancyboxOptions.popup)},i.prototype.initAjaxNavigation=function(){$('[data-type="ajax-nav"]').off("click.ajax-nav").on("click.ajax-nav",function(t){t.preventDefault();var i=$(this),o=i.data("nav-options"),n={},e=i.attr("href");i.hasClass("is-loading")||(i.addClass("is-loading"),n["PAGEN_"+o.NAV_NUM]=++o.NAV_PAGE_NOMER,RS.loadMore(e,i.data("load-to"),n).always(function(){i.removeClass("is-loading")}).done(function(){i.data("options",o),o.NAV_PAGE_NOMER>=o.NAV_PAGE_COUNT&&i.hide()}))})},i.prototype.initLinks=function(){$('.js-link-scroll[href*="#"]:not([href="#"])').each(function(t,i){i.addEventListener("click",function(t){if(t.preventDefault(),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){this.href.replace(/[^#]*(.*)/,"$1");var i=$(this.hash);if((i=i.length?i:$("[name="+this.hash.slice(1)+"]")).length){var o=Math.round(i.offset().top),n=document.querySelector(".js-fly-head");void 0!=n&&(console.log(n.offsetHeight),o+=-n.offsetHeight),window.scroll({top:o,behavior:"smooth"}),window.history.replaceState("",document.title,window.location.href.replace(location.hash,"")+this.hash),i.click()}}},!1)})},i.prototype.init=function(){this.initPopups(),this.initAllSliders(),this.initAjaxNavigation(),this.initLinks()},i.prototype.refresh=function(){this.initPopups(),this.setProductCart(),this.initAllSliders()},function(){return t||(t=new i),t}}();